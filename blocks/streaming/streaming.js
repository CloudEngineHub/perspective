import e from"https://cdn.jsdelivr.net/npm/@finos/perspective@3.1.1/dist/cdn/perspective.js";var t=["AAPL.N","AMZN.N","QQQ.N","NVDA.N","TSLA.N","FB.N","MSFT.N","TLT.N","XIV.N","YY.N","CSCO.N","GOOGL.N","PCLN.N"],a=["Homer","Marge","Bart","Lisa","Maggie","Moe","Lenny","Carl","Krusty"];function r(){for(var e=[],r=0;r<50;r++)e.push({name:t[Math.floor(Math.random()*t.length)],client:a[Math.floor(Math.random()*a.length)],lastUpdate:new Date,chg:20*Math.random()-10,bid:10*Math.random()+90,ask:10*Math.random()+100,vol:10*Math.random()+100});return e}var g=document.getElementsByTagName("perspective-viewer")[0],n=await e.worker(),i=await n.table(r(),{limit:500});await g.load(Promise.resolve(i)),g.restore({plugin:"Datagrid",columns_config:{"(+)chg":{fg_gradient:7.93,number_fg_mode:"bar"},"(-)chg":{fg_gradient:8.07,number_fg_mode:"bar"},chg:{bg_gradient:9.97,number_bg_mode:"gradient"}},plugin_config:{editable:!1,scroll_lock:!0},settings:!0,theme:"Pro Light",group_by:["name"],split_by:["client"],columns:["(-)chg","chg","(+)chg"],filter:[],sort:[["chg","desc"]],expressions:{"(-)chg":'if("chg"<0){"chg"}else{0}',"(+)chg":'if("chg">0){"chg"}else{0}'},aggregates:{"(-)chg":"avg",chg:"avg","(+)chg":"avg"}}),function e(){i.update(r()),setTimeout(e,10)}();